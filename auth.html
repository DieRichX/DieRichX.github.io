<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Telegram Login - Messenger</title>
  <style>
    /* –¢–æ—Ç –∂–µ –∫—Ä–∞—Å–∏–≤—ã–π —Å—Ç–∏–ª—å —á—Ç–æ –∏ —Ä–∞–Ω–µ–µ */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      display: flex; align-items: center; justify-content: center;
      height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 20px;
    }
    .container {
      background: white; border-radius: 20px; padding: 40px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.1); max-width: 400px; width: 100%;
      text-align: center;
    }
    .logo { font-size: 64px; margin-bottom: 20px; animation: float 3s ease-in-out infinite; }
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    h1 { color: #1a202c; margin-bottom: 10px; font-weight: 700; font-size: 28px; }
    .subtitle { color: #718096; margin-bottom: 30px; line-height: 1.5; }
    .user-card {
      background: #f7fafc; border-radius: 15px; padding: 20px; margin: 25px 0;
      border: 2px dashed #cbd5e0;
    }
    .user-avatar {
      width: 80px; height: 80px; background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 50%; margin: 0 auto 15px; display: flex; align-items: center;
      justify-content: center; font-size: 32px; color: white; font-weight: bold;
    }
    .user-name { font-size: 18px; font-weight: 600; color: #2d3748; margin-bottom: 5px; }
    .user-details { display: grid; gap: 8px; margin-top: 15px; }
    .detail { display: flex; justify-content: space-between; font-size: 14px; }
    .label { color: #718096; }
    .value { color: #2d3748; font-weight: 500; }
    .login-btn {
      width: 100%; background: linear-gradient(135deg, #0088cc, #0077b3); color: white;
      border: none; padding: 18px; border-radius: 12px; font-size: 16px; font-weight: 600;
      cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center;
      justify-content: center; gap: 12px; margin-bottom: 20px;
    }
    .login-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0,136,204,0.3); }
    .login-btn:active { transform: translateY(0); }
    .btn-icon { font-size: 20px; }
    .divider { display: flex; align-items: center; margin: 25px 0; color: #a0aec0; }
    .divider::before, .divider::after { content: ""; flex: 1; height: 1px; background: #e2e8f0; }
    .divider span { padding: 0 15px; font-size: 14px; }
    .cancel-btn {
      width: 100%; background: white; color: #718096; border: 2px solid #e2e8f0;
      padding: 15px; border-radius: 12px; font-size: 15px; font-weight: 500;
      cursor: pointer; transition: all 0.2s ease;
    }
    .cancel-btn:hover { background: #f7fafc; border-color: #cbd5e0; }
    .info-note {
      background: #fffaf0; border: 1px solid #fed7aa; border-radius: 10px;
      padding: 15px; margin-top: 20px; font-size: 13px; color: #92400e;
      text-align: left;
    }
    .success { background: #c6f6d5 !important; color: #22543d !important; }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo">üîê</div>
    <h1>Telegram Login</h1>
    <div class="subtitle">–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤—Ö–æ–¥ –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</div>
    
    <div class="user-card">
      <div class="user-avatar" id="userAvatar">TU</div>
      <div class="user-name" id="userName">Telegram User</div>
      <div class="user-details">
        <div class="detail">
          <span class="label">Username:</span>
          <span class="value" id="userUsername">@user</span>
        </div>
        <div class="detail">
          <span class="label">User ID:</span>
          <span class="value" id="userId">123456789</span>
        </div>
        <div class="detail">
          <span class="label">Auth:</span>
          <span class="value" id="authTime">–¢–æ–ª—å–∫–æ —á—Ç–æ</span>
        </div>
      </div>
    </div>
    
    <button class="login-btn" id="loginBtn">
      <span class="btn-icon">üì≤</span>
      <span>–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram</span>
    </button>
    
    <div class="divider">
      <span>–∏–ª–∏</span>
    </div>
    
    <button class="cancel-btn" id="cancelBtn">–û—Ç–º–µ–Ω–∞</button>
    
    <div class="info-note">
      <strong>‚úÖ –†–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –Ω–∞ Netlify</strong><br>
      –î–æ–º–µ–Ω –≥–æ—Ç–æ–≤ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ @BotFather
    </div>
  </div>

  <script>
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    function generateTelegramUser() {
      const names = [
        { first: '–ê–ª–µ–∫—Å–µ–π', last: '–ò–≤–∞–Ω–æ–≤' }, { first: '–ú–∞—Ä–∏—è', last: '–ü–µ—Ç—Ä–æ–≤–∞' },
        { first: '–î–º–∏—Ç—Ä–∏–π', last: '–°–∏–¥–æ—Ä–æ–≤' }, { first: '–ê–Ω–Ω–∞', last: '–ö—É–∑–Ω–µ—Ü–æ–≤–∞' },
        { first: '–°–µ—Ä–≥–µ–π', last: '–ü–æ–ø–æ–≤' }, { first: '–ï–ª–µ–Ω–∞', last: '–°–º–∏—Ä–Ω–æ–≤–∞' },
        { first: '–ò–≤–∞–Ω', last: '–§—ë–¥–æ—Ä–æ–≤' }, { first: '–û–ª—å–≥–∞', last: '–ú–æ—Ä–æ–∑–æ–≤–∞' }
      ];
      
      const name = names[Math.floor(Math.random() * names.length)];
      const username = `${name.first.toLowerCase()}_${name.last.toLowerCase()}_${Math.floor(Math.random() * 1000)}`;
      const userId = Math.floor(100000000 + Math.random() * 900000000);
      
      return {
        id: userId,
        first_name: name.first,
        last_name: name.last,
        username: username,
        auth_date: Math.floor(Date.now() / 1000),
        hash: 'tg_' + Math.random().toString(36).substr(2, 20)
      };
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    function updateUI(user) {
      document.getElementById('userAvatar').textContent = 
        user.first_name[0] + (user.last_name ? user.last_name[0] : '');
      document.getElementById('userName').textContent = 
        `${user.first_name} ${user.last_name || ''}`.trim();
      document.getElementById('userUsername').textContent = `@${user.username}`;
      document.getElementById('userId').textContent = user.id;
      
      const now = new Date();
      document.getElementById('authTime').textContent = 
        now.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
    }

    // –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
    document.getElementById('loginBtn').addEventListener('click', async function() {
      const user = generateTelegramUser();
      updateUI(user);
      
      // –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
      const btn = this;
      btn.innerHTML = '<span class="btn-icon">‚è≥</span><span>–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Ö–æ–¥...</span>';
      btn.style.background = '#f59e0b';
      
      await new Promise(resolve => setTimeout(resolve, 1500));
      
      // –£—Å–ø–µ—Ö
      btn.innerHTML = '<span class="btn-icon">‚úÖ</span><span>–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥!</span>';
      btn.style.background = '#10b981';
      btn.classList.add('success');
      
      // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
      setTimeout(() => {
        if (window.teleAuth && typeof window.teleAuth.send === 'function') {
          window.teleAuth.send(user);
        } else {
          console.log('Telegram user data:', user);
          // –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
          alert('–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!\n\n–ò–º—è: ' + user.first_name + '\nUsername: @' + user.username);
        }
      }, 1000);
    });

    // –û—Ç–º–µ–Ω–∞
    document.getElementById('cancelBtn').addEventListener('click', function() {
      if (window.teleAuth && typeof window.teleAuth.cancel === 'function') {
        window.teleAuth.cancel();
      } else {
        window.close();
      }
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    document.addEventListener('DOMContentLoaded', () => {
      const user = generateTelegramUser();
      updateUI(user);
    });
  </script>
</head>
</html>
