<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data: blob:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-eval';">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Messenger ‚Äî compressed images + viewer</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
 <div id="login-screen" class="center">
  <h2>–í–≤–µ–¥–∏—Ç–µ –∏–º—è</h2>
  <input id="username" placeholder="–í–∞—à–µ –∏–º—è" />
  <button id="login-btn">–í–æ–π—Ç–∏</button>
  
  <div style="margin-top: 15px; text-align: center;">
    <div style="font-size: 14px; color: #666; margin-bottom: 8px;">–ò–ª–∏ –≤–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑</div>
    <button id="telegram-btn" type="button" style="background: #0088cc; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; margin: 0 auto;">
      <span>Telegram</span>
    </button>
  </div>
</div>

  <div id="app" style="display:none;">
    <aside class="sidebar">
      <div class="sidebar-header">
        <input id="search" placeholder="–ü–æ–∏—Å–∫..." />
      </div>

      <div class="section">
        <div class="section-title">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–æ–Ω–ª–∞–π–Ω)</div>
        <ul id="userList" class="chat-list"></ul>
      </div>

      <div class="section">
        <div class="section-title">–ß–∞—Ç—ã</div>
        <ul id="chatList" class="chat-list"></ul>
      </div>

      <div class="sidebar-footer">
        <button id="changeNameBtn">–ò–º—è</button>
        <span id="status" class="status">offline</span>
      </div>
    </aside>

    <main class="main-area">
      <header class="chat-header">
        <h2 id="chatTitle">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç</h2>
      </header>

      <section id="messages" class="messages"></section>

      <form id="composer" class="composer" autocomplete="off">
        <input type="file" id="fileInput" style="display:none" />
        <button type="button" id="fileBtn" title="–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª">üìé</button>
        <input id="messageInput" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." />
        <button id="sendBtn" type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      </form>
    </main>
  </div>

  <!-- viewer modal -->
  <div id="viewer" class="viewer hidden" role="dialog" aria-hidden="true">
    <div class="viewer-backdrop"></div>
    <div class="viewer-content">
      <button id="viewer-close" class="viewer-close">‚úï</button>
      <img id="viewer-img" src="" alt="preview" />
      <div class="viewer-actions">
        <a id="viewer-download" download class="viewer-download">–°–∫–∞—á–∞—Ç—å</a>
      </div>
    </div>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
